<!DOCTYPE html>
<html lang="en">
<head>
  <title>Web APIs</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <link rel="stylesheet" href="../_shared/styles/shower-ruben.css">
  <link rel="stylesheet" href="../_shared/styles/web-fundamentals.css">
</head>
<body class="shower list">
  <header class="caption">
    <h1>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h1>
    <p>
      <a href="https://ruben.verborgh.org/">Ruben Verborgh</a>,
      <a href="https://www.ugent.be/">Ghent University</a> – <a href="https://www.imec.be/">imec</a>
    </p>
    <ul class="links">
      <li class="prev">Previous topic: <a href="../architecture/">Web Architecture &amp; Technologies</a></li>
      <li class="next">Next topic: <a href="../semantic-web/">The Semantic Web &amp; Linked Data</a></li>
    </ul>
  </header>

  <nav>
    <h2><a href="../">Web Fundamentals</a></h2>
    <ol>
      <li><a href="../birds-eye-view/">A Bird’s-Eye View of the Web</a></li>
      <li><a href="../architecture/">Web Architecture &amp; Technologies</a></li>
      <li><a href="../web-apis/">Web APIs</a></li>
      <li><a href="../semantic-web/">The Semantic Web &amp; Linked Data</a></li>
      <li><a href="../linked-data-publishing/">Linked Data Publishing</a></li>
      <li><a href="../decentralization/">Re-decentralizing the Web</a></li>
    </ol>
  </nav>

  <div class="title slide" id="title">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
    <p class="author"><a href="https://ruben.verborgh.org/">Ruben Verborgh</a></p>
    <p class="affiliation">
      <a href="https://www.ugent.be/"><img  class="ugent"  src="../_shared/images/logos/ugent.svg"  alt="Ghent University"></a>
      <a href="https://www.imec.be/"><img class="imec" src="../_shared/images/logos/imec.svg" alt="imec"></a>
      <a href="https://idlab.technology/"><img class="idlab" src="../_shared/images/logos/idlab.svg" alt="IDLab"></a>
    </p>
    <p class="license">
      <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" src="../_shared/images/cc-by.svg" /></a>
      Except where otherwise noted, the content of these slides is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
    </p>
  </div>

  <div class="slide" id="jamison-family">
    <iframe class="cover width height" src="https://www.youtube.com/embed/mfMrVKnGzwg?start=47&amp;end=164&amp;cc_load_policy=1&amp;hl=en&amp;iv_load_policy=3&amp;disablekb=1&amp;rel=0&amp;showinfo=0&amp;autohide=1"></iframe>
  </div>

  <div class="slide" id="90s">
    <h2>
      Unlike many things from the ’90s,<br>
      the Web still works and is in active use.
    </h2>
    <ul>
      <li class="next">
        The Web has changed.
        <ul class="inline">
          <li>video</li>
          <li>social media</li>
          <li>…</li>
        </ul>
      </li>
      <li class="next">
        The Web’s users have changed.
        <ul>
          <li>many more people</li>
          <li>much more time online</li>
        </ul>
      </li>
      <li class="next">
        The Web’s users are no longer only people.
        <ul class="inline">
          <li>crawlers</li>
          <li>automated clients</li>
          <li>…</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="doors">
    <figure class="cover width">
      <img src="images/affordance.jpg"
           alt="[A photograph of a door; which way does it open?]">
      <figcaption>
        ©2012 <a href="https://www.flickr.com/photos/wikidave/8174648223/">Dave Crosby</a>
      </figcaption>
    </figure>
    <footer>
      <p>How do you know how to use a thing?</p>
    </footer>
  </div>

  <div class="slide" id="door-video">
    <iframe class="cover width height" src="https://www.youtube.com/embed/yY96hTb8WgI?start=0&amp;end=49&amp;cc_load_policy=1&amp;hl=en&amp;iv_load_policy=3&amp;disablekb=1&amp;rel=0&amp;showinfo=0&amp;autohide=1"></iframe>
    </iframe>
  </div>

  <div class="slide" id="affordance">
    <h2>
      An <a href="https://www.jnd.org/books/design-of-everyday-things-revised.html">affordance</a> is a property of an object<br>
      that explains and aids its usage.
    </h2>
    <ul>
      <li class="next">
        The handle <em>affords</em> opening the door.
        <ul>
          <li class="next">It <em>hints</em> at the opening direction and <em>facilitates</em> opening.</li>
          <li class="next">However, you <em>can</em> open the door without the handle.</li>
        </ul>
      </li>
      <li class="next">
        The handle is an <em>affordance</em> for opening the door.
        <ul>
          <li class="next">An affordance is not a possibility nor an enabler.</li>
        </ul>
      </li>
      <li class="next">
        Even in software, affordances strongly affect usage.
        <ul>
          <li>Many people use Word, few can use Vim.</li>
          <li class="next">Affordances are of crucial importance <a href="#hypertext-definition">on the Web</a>.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="definition">
    <h2>
      A Web API is a server-side HTTP interface<br>
      exposing data and functionality to clients.
    </h2>
    <ul>
      <li class="next">
        If well designed, a Web API <a href="#hypertext-definition">provides the affordances</a><br>
        for humans and/or machines to interact with it.
      </li>
      <li class="next">
        The world of Web APIs and technologies<br>
        is highly heterogeneous.
        <ul>
          <li>
            While the human Web reuses many technologies,<br>
            Web APIs suffer from a high rate of reinvention.
          </li>
        </ul>
      </li>
      <li class="next">
        We will discuss about <a href="#rest">principles</a>,<br>
        <a href="#sustainability">consequences</a>,
        and <a href="#technologies">technologies</a>.
      </li>
    </ul>
  </div>

  <div class="toc slide" id="index">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li><a href="#rest">The REST architectural style</a></li>
      <li><a href="#sustainability">Sustainability of information</a></li>
      <li><a href="#technologies">Web API technologies</a></li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="toc slide" id="rest">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li class="current">
        <a href="#rest">The REST architectural style</a>
        <ul>
          <li class="current"><a href="#rest">The REST constraints</a></li>
          <li><a href="#web">REST applied to the Web</a></li>
        </ul>
      </li>
      <li><a href="#sustainability">Sustainability of information</a></li>
      <li><a href="#technologies">Web API technologies</a></li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="slide" id="web-architectural-style">
    <h2>
      Why does the Web scale the way it does?<br>
      How should we build for the Web?
    </h2>
    <ul>
      <li class="next">
        <a href="https://roy.gbiv.com/">Roy Fielding</a> analyzed the Web<br>
        to derive its architectural properties.
      </li>
      <li class="next">
        The <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">REST architectural style</a> captures a set of<br>
        <em>constraints</em> for distributed hypermedia systems.
      </li>
      <li class="next">
        REST has guided protocol decisions<br>
        and can guide Web applications.
        <ul>
          <li>Being <a href="#web-rest">on the Web</a> doesn’t imply following REST.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="constraints">
    <h2>
      The REST architectural style consists of<br>
      5 types of mandatory constraints.
    </h2>
    <ol>
      <li><a href="#client-server">client–server constraints</a></li>
      <li><a href="#stateless">statelessness constraint</a></li>
      <li><a href="#cache">cache constraints</a></li>
      <li><a href="#layered-system">layered system constraints</a></li>
      <li><a href="#uniform-interface">uniform interface constraints</a></li>
    </ol>
  </div>

  <div class="slide" id="client-server">
    <h2>
      REST architectures inherit<br>
      the <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_2">client–server constraints</a>.
    </h2>
    <ul>
      <li>
        The server listens for requests,<br>
        clients send requests via a connector.
        <ul>
          <li>typical for network-based applications</li>
          <li>
            alternatives:
            <ul class="inline">
              <li>peer-to-peer</li>
              <li>…</li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="next">
        This realizes a <em>separation of concerns</em>.
        <ul>
          <li>
            separating user interface from data storage
            <ul>
              <li class="next">increases <em>scalability</em> by simplifying the server</li>
              <li class="next">improves <em>portability</em> of the interface across platforms</li>
              <li class="next">enables <em>independent evolution</em> of client and server</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="stateless">
    <h2>
      REST architectures constrain<br>
      communication to be <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_3">stateless</a>.
    </h2>
    <ul>
      <li>
        Each client request must contain all information<br>
        necessary for the server to understand it.
        <ul>
          <li>The server does not remember the client.</li>
          <li>The server does not remember previous requests.</li>
        </ul>
      </li>
      <li class="next">
        Stateless requests can be interpreted<br>independently of each other.
        <ul>
          <li class="next">
            <em>stateful:</em>
            <ol class="inline">
              <li>“show laptops”</li>
              <li>“show page 2”</li>
            </ol>
          </li>
          <li class="next">
            <em>stateless:</em>
            <ol class="inline">
              <li>“show laptops”</li>
              <li>“show page 2 of laptops”</li>
            </ol>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="application-resource-state">
    <h2>
      Statelessness applies to <em>application</em> state.<br>
      <span class="next">Servers still maintain <em>resource</em> state.</span>
    </h2>
    <ul>
      <li class="next">
        <strong>Application state</strong> captures the position of a <em>client</em><br>
        in the interaction, and differs per client.
        <ul class="next">
          <li><em>This client is currently looking at page 2 of laptops.</em></li>
        </ul>
      </li>
      <li class="next">
        <strong>Resource state</strong> captures properties of data entities<br>
        on the <em>server</em>, and are the same for all clients.
        <ul class="next">
          <li><em>There are currently 230 laptop models for sale.</em></li>
        </ul>
      </li>
    </ul>
    <p class="next">
      This <a href="https://ruben.verborgh.org/blog/2012/08/24/rest-wheres-my-state/" title="REST where’s my state">blog post</a>
      and this <a href="http://restfulwebapis.com/RESTful_Web_Services/#calibre_link-1645" title="RESTful Web Services">book</a>
      elaborate on the difference.
    </p>
  </div>

  <div class="slide" id="statelessness-benefits">
    <h2>
      Statelessness improves <em>visibility</em>,<br>
      <em>reliability</em>, and <em>scalability</em>.
    </h2>
    <dl>
      <dt>visibility</dt>
      <dd class="next">
        Intermediaries understand each request<br>
        without having to know any others.
      </dd>
      <dt>reliability</dt>
      <dd class="next">
        Recovery from partial failures is easier<br>
        because no request history is needed.
      </dd>
      <dt>scalability</dt>
      <dd class="next">
        No data must be kept between requests.
      </dd>
      <dd class="next">
        Each request can be handled by a different,<br>
        independent server.
      </dd>
    </dl>
  </div>

  <div class="slide" id="statelessness-drawbacks">
    <h2>
      Statelessness has increased <em>bandwidth</em> and<br>
      reduced <em>server-side control</em> as trade-offs.
    </h2>
    <dl>
      <dt>bandwidth</dt>
      <dd class="next">
        Requests might need to repeat information<br>
        that was sent previously but not kept.
      </dd>
      <dt>control</dt>
      <dd class="next">
        Clients become responsible to transition<br>
        consistently from one state into another.
      </dd>
      <dd class="next">
        They cannot necessarily be trusted<br>
        to make correct and allowed transitions.
      </dd>
    </dl>
    <p class="next">
      The server does not know any client’s previous state.<br>
      Clients might jump to unpermitted states by “guessing”.
    </p>
  </div>

  <div class="slide" id="cache">
    <h2>
      The REST architectural style<br>
      imposes <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_4">cache constraints</a>.
    </h2>
    <ul>
      <li class="next">
        A server response indicates explicitly<br>
        whether or not it is cacheable.
        <ul>
          <li>Cacheable responses may be <em>reused</em> later on<br>
              by clients and/or intermediaries.</li>
        </ul>
      </li>
      <li class="next">
        Caching improves network <em>efficiency</em>, <em>scalability</em>,<br>
        and <em>user-perceived performance</em>.
        <ul>
          <li>The server needs to perform less work.</li>
        </ul>
      </li>
      <li class="next">
        Reliability can be reduced if cached data is stale.
      </li>
    </ul>
  </div>

  <div class="slide" id="layered-system">
    <h2>
      The <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_6">layered system</a> constraints<br>
      allow for flexible hierarchical layers.
    </h2>
    <ul>
      <li class="next">
        Intermediaries can be inserted transparently,<br>
        shielding off complexity and inner details.
        <ul>
          <li>proxies</li>
          <li>caches</li>
          <li>load balancers</li>
          <li>firewalls</li>
          <li>…</li>
        </ul>
      </li>
      <li class="next">
        Layering increases flexibility<br>
        but can introduce overhead and latency.
      </li>
    </ul>
  </div>

  <div class="slide" id="uniform-interface">
    <h2>
      The <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5">uniform interface</a> constraints<br>
      are unique to the REST architectural style.
    </h2>
    <p>REST introduces 4 uniform interface constraints:</p>
    <ol>
      <li><a href="#resources">identification of resources</a></li>
      <li><a href="#representations">resource manipulation through representations</a></li>
      <li><a href="#self-descriptive-messages">self-descriptive messages</a></li>
      <li><a href="#hateoas">hypermedia as the engine of application state</a></li>
    </ol>
  </div>

  <div class="slide" id="resources">
    <h2>
      A <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1">resource</a> is the main unit of information.<br>
      An identifier points to at most 1 resource.
    </h2>
    <ul>
      <li>
        Anything that can be named is a <em>resource</em>.
        <ul>
          <li class="next">
            <em>Information resources</em> can be represented in binary code:
            <ul class="next inline">
              <li>documents</li>
              <li>images</li>
              <li>video</li>
              <li>software</li>
              <li>…</li>
            </ul>
          </li>
          <li class="next">
            <em>Non-information resources</em> cannot be represented as bits:
            <ul class="next inline">
              <li>people</li>
              <li>phenomena</li>
              <li>concepts</li>
              <li>ideas</li>
              <li>…</li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="next">
        A valid identifier corresponds to a unique resource.
        <ul>
          <li class="next">Any resource can have multiple identifiers.</li>
          <li class="next">One identifier for two (related) resources creates a <a href="https://www.w3.org/TR/2004/REC-webarch-20041215/#URI-collision">collision</a>.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="conceptual-resource">
    <h2>
      A resource is a <em>conceptual</em> relationship:<br>
      its value might change over time.
    </h2>
    <ul>
      <li>
        A resource is a <em>function</em> of time<br>
        that associates a definition with a value.
        <ul>
          <li class="next">
            <em>“today’s most played song in Ghent”</em>
            <ul>
              <li>current value: <em>“the top song on <time datetime="2016-02-15" class="today">15 February 2016</time>”</em></li>
              <li>tomorrow’s value: <em>“the top song on <time datetime="2016-02-16" class="tomorrow">16 February 2016</time>”</em></li>
            </ul>
          </li>
          <li class="next">
            <em>“the most played song in Ghent on <time datetime="2016-02-15" class="today">15 February 2016</time>”</em>
            <ul>
              <li>remains constant, even tomorrow</li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="next">
        This allows late binding.
        <ul>
          <li>Refer to the <em>concept</em>, whether or not it exists and is final.</li>
        </ul>
      </li>
    </ul>
  </div>

  <script>
    (function () {
      updateDate('today', 0);
      updateDate('tomorrow', 1);
      function updateDate(className, dayOffset) {
        var els = document.getElementsByClassName(className),
            date = new Date(1 * new Date() + dayOffset * 24 * 60 * 60 * 1000);
            text = date.getDate() + ' ' +
                   ['January', 'February', 'March', 'April', 'May', 'June', 'July',
                    'August', 'September', 'October', 'November', 'December'][date.getMonth()] +
                   ' ' + date.getFullYear();
        for (var i = 0; i < els.length; i++) {
          els[i].innerText = text;
          els[i].setAttribute('datetime', date.toISOString());
        }
      }
    })();
  </script>

  <div class="slide" id="representations">
    <h2>
      Information resources can have<br>
      zero or more <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_2">representations</a>.
    </h2>
    <ul>
      <li class="next">
        Depending on the needs and capabilities of a client,<br>
        a resource can be represented differently.
        <ul>
          <li class="next">
            <em>“metadata about today’s most played song in Ghent”</em>
            <ul>
              <li class="next">…in English or Dutch?</li>
              <li class="next">…in HTML or JSON?</li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="next">
        Representations can also have an identifier.
        <ul>
          <li class="next"><em>“English HTML document about today’s top song in Ghent”</em></li>
          <li class="next opinion">
            The notion of resource/representation is <em>relative</em>:<br>
            representations become resources when identified.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="self-descriptive-messages">
    <h2>
      Each message in a REST interaction<br>
      should be self-descriptive.
    </h2>
    <ol>
      <li class="next">
        Intermediaries can interpret messages.
        <ol>
          <li><a href="#stateless">statelessness</a> and explicit <a href="#cache">cacheability</a></li>
          <li>limited number of <em>standardized operations</em></li>
        </ol>
      </li>
      <li class="next">
        Response (and request) bodies are expressed<br>
        in explicit, agreed-upon <em>media types</em>.
        <ul>
          <li>well-defined syntax and semantics</li>
          <li>
            all semantics are <em>inside</em> of the message
            <ul>
              <li>or the message makes clear where to find them</li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </div>

  <div class="slide" id="hateoas">
    <h2>
      The interaction is driven by<br>
      <em>hypermedia controls</em> inside of responses.
    </h2>
    <ul>
      <li class="next">
        Responses contain hypermedia controls<br>
        such as hyperlinks and forms.
        <ul>
          <li>
            They <em>afford</em> the next steps a client can take.
            <ol>
              <li class="next">indicate <em>what</em> possible steps are</li>
              <li class="next">explain <em>how</em> to take such steps</li>
            </ol>
          </li>
        </ul>
      </li>
      <li class="next">
        Rather than executing a pre-defined script,<br>
        the client follows the server’s lead.
        <ul>
          <li class="next">
            With Remote Procedure Calling, clients instead must know<br>
            the details of the interface and all steps in advance.
          </li>
        </ul>
      </li>
    </ul>
    <footer>
      <p>This is of course the <em>Web</em> aspect of REST.</p>
    </footer>
  </div>

  <div class="slide" id="hateoas-consequences">
    <h2>
      Hypermedia defines REST interactions,<br>
      minimizing the client–server contract.
    </h2>
    <ul>
      <li>
        Client and server can evolve independently.
        <ul>
          <li class="next">
            From one resource, the client <em>discovers</em> the interface.
          </li>
          <li class="next">
            The client does not bind to concrete identifiers,<br>
            but needs to know the <em>semantics</em> of links and forms.
          </li>
        </ul>
      </li>

      <li class="next opinion">
        The server must afford the actions clients need.
        <ul>
          <li class="next">How can the server know what the client wants to do?</li>
          <li class="next">How can <em>anybody</em> know <em>all</em> actions in an open environment?</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="toc slide" id="web">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li class="current">
        <a href="#rest">The REST architectural style</a>
        <ul>
          <li><a href="#rest">The REST constraints</a></li>
          <li class="current"><a href="#web">REST applied to the Web</a></li>
        </ul>
      </li>
      <li><a href="#sustainability">Sustainability of information</a></li>
      <li><a href="#technologies">Web API technologies</a></li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="slide" id="web-rest">
    <h2>
      The Web is <em>one</em> implementation of REST—<br>and
      not every website follows the style.
    </h2>
    <ul>
      <li class="next">
        REST APIs are <em>often</em> HTTP APIs,<br>
        but other platforms can implement the style.
        <ul>
          <li>
            The <a href="https://tools.ietf.org/html/rfc7252">Constrained Application Protocol (CoAP)</a><br>
            is used by devices on the Internet of Things.
          </li>
        </ul>
      </li>
      <li class="next">
        Many Web APIs labeled “REST” are just HTTP APIs.
        <ul>
          <li>
            The overall architecture <em>enables</em> and <em>encourages</em> REST,<br>
            but cannot <em>enforce</em> it (and many people misunderstand it).
          </li>
        </ul>
      </li>
    </ul>
    <p class="next">
      An urban architect does not control individual buildings.
    </p>
  </div>

  <div class="slide" id="schaapstal">
    <figure class="cover width">
      <img src="images/schaapstal.jpg" alt="[the Ghent city pavilion]">
      <figcaption>
        ©2014 <a href="https://visit.gent.be/en/datatafel/architecture">City of Ghent</a>
      </figcaption>
    </figure>
    <footer>
      <p>Despite an overall architecture, individuals can still do as they please.</p>
    </footer>
  </div>

  <div class="slide" id="rest-constraints-http">
    <h2>
      How does the Web implement REST using<br>
      its core technologies URL, HTTP &amp; HTML?
    </h2>
    <ol>
      <li><a href="#web-client-server">client–server constraints</a></li>
      <li><a href="#web-stateless">statelessness constraint</a></li>
      <li><a href="#web-cache">cache constraints</a></li>
      <li><a href="#web-layered-system">layered system constraints</a></li>
      <li><a href="#web-uniform-interface">uniform interface constraints</a></li>
    </ol>
  </div>

  <div class="slide" id="web-client-server">
    <h2>
      Obviously, the Web consists<br>
      of <a href="#client-server">clients and servers</a>.
    </h2>
    <ul>
      <li>
        Clients make HTTP requests.
      </li>
      <li>
        Servers listen and respond to HTTP requests.
      </li>
      <li>
        The “client” and “server” labels are <em>roles</em>,<br>
        and <a href="../architecture/#client-server-relative">relative to the interaction</a>.
      </li>
    </ul>
  </div>

  <div class="slide" id="web-stateless">
    <h2>
      The HTTP protocol is designed<br>
      in a <a href="#stateless">stateless</a> way.
    </h2>
    <ul>
      <li>
        Servers don’t remember clients between requests.
        <ul>
          <li>
            An IP address is insufficient to identify a client
            due to <a href="https://www.cisco.com/c/en/us/support/docs/ip/network-address-translation-nat/26704-nat-faq-00.html#gen-nat">NAT</a>.
          </li>
        </ul>
      </li>
      <li class="next">
        Each HTTP request must contain all headers,<br>
        even those that remain the same.
        <ul class="inline">
          <li><a href="https://tools.ietf.org/html/rfc7230#section-5.4"><code>Host</code></a></li>
          <li><a href="https://tools.ietf.org/html/rfc7231#section-5.3.2"><code>Accept</code></a></li>
          <li><a href="https://tools.ietf.org/html/rfc7231#section-5.5.3"><code>User-Agent</code></a></li>
          <li>…</li>
        </ul>
      </li>
      <li class="next">
        The client–server relation only exists<br>
        during the request and processing of the response.
        <ul>
          <li>Cookies can establish a session—and thus server-side state.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="web-cache">
    <h2>
      HTTP realizes <a href="#cache">caching</a> with intermediaries<br>
      and explicit caching headers.
    </h2>
    <ul>
      <li>
        HTTP responses explicitly indicate <a href="../architecture/#http-transparency">cacheability</a>.
        <ul>
          <li><code>Cache-Control: max-age=3600</code></li>
          <li><code>ETag: UniqueHash456</code></li>
        </ul>
      </li>
      <li>
        HTTP method semantics define caching influences.
        <ul>
          <li><a href="../architecture/#http-methods"><code>GET</code></a> does not change a resource.</li>
          <li><a href="../architecture/#http-methods"><code>POST</code></a> can change a resource.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="web-layered-system">
    <h2>
      HTTP allows transparent insertion<br>
      of <a href="#layered-system">layers</a> of proxies.
    </h2>
    <ul>
      <li>
        <a href="../architecture/#proxies">Reverse proxies</a>
        act as a gateway<br>
        to application servers.
      </li>
      <li>
        There is no stateful client–server connection,<br>
        so intermediaries can transparently answer.
      </li>
      <li>
        HTTP can wrap legacy systems.
      </li>
    </ul>
  </div>

  <div class="slide" id="web-uniform-interface">
    <h2>
      The <a href="#uniform-interface">uniform interface</a> is implemented<br>
      by a combination of URL, HTTP, and HTML.
    </h2>
    <p>The Web supports all 4 constraints:</p>
    <ol>
      <li><a href="#web-resources">identification of resources</a></li>
      <li><a href="#web-representations">resource manipulation through representations</a></li>
      <li><a href="#web-self-descriptive-messages">self-descriptive messages</a></li>
      <li><a href="#web-hateoas">hypermedia as the engine of application state</a></li>
    </ol>
  </div>

  <div class="slide" id="web-resources">
    <h2>
      Web <a href="#resources">resources</a> are conceptual relations<br>
      uniquely identified by HTTP URLs.
    </h2>
    <ul>
      <li>
        An HTTP URL points to at most one resource.
        <ul>
          <li>The URL <a href="../architecture/#identification-location">identifies</a> the resource.</li>
          <li>If it is an <a href="#resources">information resource</a>,<br>
              HTTP allows clients to retrieve a representation of it.</li>
        </ul>
      </li>
      <li class="next">
        The concept pointed to by a URL shouldn’t change.
        <ul>
          <li>Tim Berners-Lee calls such identifiers <a href="https://www.w3.org/Provider/Style/URI.html">“Cool URIs”</a>.</li>
        </ul>
      </li>
      <li class="next">
        The value and representations retrieved<br>
        when looking up a URL might change over time.
      </li>
    </ul>
  </div>

  <div class="slide" id="web-resources-image">
    <h2>
      Web <a href="#resources">resources</a> are conceptual relations<br>
      uniquely identified by HTTP URLs.
    </h2>
    <iframe class="image" src="images/resources.svg"></iframe>
  </div>

  <div class="slide" id="web-representations">
    <h2>
      Clients obtain different <a href="#representations">representations</a><br>
      through HTTP <em>content negotiation</em>.
    </h2>
    <ul>
      <li>
        If a URL identifies a resource, clients need<br>
        a mechanism to obtain a representation.
      </li>
      <li class="next">
        With <a href="https://tools.ietf.org/html/rfc7231#section-3.4">content negotiation</a>,
        a client and server agree<br>
        on the best mutually understandable media type.
      </li>
      <li class="next">
        The client indicates its preferences with <a href="https://tools.ietf.org/html/rfc7231#section-5.3.2"><code>Accept</code></a>,<br>
        the server advertises its choice with
        <a href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5"><code>Content-Type</code></a>.
        <ul>
          <li class="next"><code>Accept: application/json,text/html;q=0.6</code></li>
          <li class="next">Maybe the server likes its HTML better, or has no JSON.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="web-representations-image">
    <h2>
      Clients obtain different <a href="#representations">representations</a><br>
      through HTTP <em>content negotiation</em>.
    </h2>
    <iframe class="image" src="images/representations.svg"></iframe>
  </div>

  <div class="slide" id="web-self-descriptive-messages">
    <h2>
      Well-defined HTTP methods &amp; headers<br>
      and media types enable self-description.
    </h2>
    <ul>
      <li>
        HTTP provides a <a href="../architecture/#http-methods">limited number of methods</a>.
        <ul>
          <li>
            Intermediaries can know the semantics of <em>all</em> methods<br>
            (which would be hard if a server could choose its own).
          </li>
        </ul>
      </li>
      <li class="next">
        HTTP provides an extensible set of headers.
        <ul>
          <li>Intermediaries forward headers they do not understand.</li>
        </ul>
      </li>
      <li class="next">
        The <a href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5"><code>Content-Type</code></a> header
        details the media type.
        <ul>
          <li>
            <em>generic:</em>
            <ul class="inline">
              <li>text/html</li>
              <li>application/json</li>
              <li>application/xml</li>
              <li>…</li>
            </ul>
          </li>
          <li>
            <em>specific:</em>
            <ul class="inline">
              <li>application/atom+xml</li>
              <li>application/rss+xml</li>
              <li>…</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="web-hateoas">
    <h2>
      HTML (and other hypermedia) documents<br>
      can contain hypermedia controls.
    </h2>
    <ul>
      <li>
        In HTML documents, links can be marked up.
        <ul>
          <li class="next">
            <code>&lt;em&gt;https://perdu.com/&lt;/em&gt;</code>
            <ul>
              <li><em>https://perdu.com/</em> is not a link.</li>
            </ul>
          </li>
          <li class="next">
            <code>&lt;a href="https://perdu.com/"&gt;Perdu?&lt;/a&gt;</code>
            <ul>
              <li>
                <a href="https://perdu.com/">Perdu?</a> is,
                because the HTML media type <a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-a-element">defines</a><br>
                the <a href="https://www.w3.org/TR/html5/dom.html#represents">semantics</a> of this element as a <a href="https://www.w3.org/TR/html5/links.html#hyperlink">hyperlink</a>.
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="next">
        As a consequence, users almost never<br>
        have to touch the address bar.
        <ul>
          <li>If they do, the action is not afforded by hypermedia.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="non-html-hypermedia">
    <h2>
      Other media types can also have links,<br>
      if an interpretation is specified.
    </h2>
    <ul>
      <li>
        A regular JSON document <em>cannot</em> have hyperlinks.
        <ul>
          <li>
            <code>{ "url": "https://perdu.com/" }</code> is not a link.
          </li>
          <li>
            The <a href="https://tools.ietf.org/html/rfc4627"><code>application/json</code></a> media type<br>
            does not specify an interpretation for links.
          </li>
        </ul>
      </li>
      <li class="next">
        Specific JSON subtypes <em>can</em> have hyperlinks.
        <ul>
          <li>
            The <a href="https://tools.ietf.org/html/draft-kelly-json-hal"><code>application/hal+json</code></a> media type<br>
            specifies an <a href="https://tools.ietf.org/html/draft-kelly-json-hal-07#section-5">interpretation for links</a>.
          </li>
          <li class="next">
            This interpretation is <em>only</em> allowed if the server<br>
            replies with <code>Content-Type: application/hal+json</code>.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="hypertext-definition">
    <blockquote>
      <p>
        When I say <em>hypertext</em>,<br>
        <span class="next">I mean the simultaneous presentation
        of information and controls</span>
        <span class="next">such that the information becomes the <a href="#affordance">affordance</a></span>
        <span class="next">through which the user <span class="next">(or automaton)</span>
        obtains choices and selects actions.</span>
      </p>
      <cite><a href="https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven#comment-718">Roy Fielding</a></cite>
    </blockquote>
  </div>

  <div class="toc slide" id="sustainability">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li><a href="#rest">The REST architectural style</a></li>
      <li class="current">
        <a href="#sustainability">Sustainability of information</a>
        <ul>
          <li class="current"><a href="#sustainability">Web APIs with and without REST</a></li>
          <li><a href="#longterm">Designing Web APIs for the long term</a></li>
        </ul>
      </li>
      <li><a href="#technologies">Web API technologies</a></li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="slide" id="no-api">
    <h2>
      A REST API is a collection of resources.<br>
      Any regular website is in fact a REST API.
    </h2>
    <ul>
      <li class="next">
        Most websites follow the REST principles.
        <ul>
          <li>
            Usually there is only one representation per resource.
          </li>
        </ul>
      </li>
      <li class="next">
        Some websites invent proprietary interactions.
        <ul>
          <li>
            URLs do not correspond to resources.
          </li>
          <li>
            A typical symptom is a <a href="https://www.nngroup.com/articles/the-top-ten-web-design-mistakes-of-1999/">broken <em>back</em> button</a>.
          </li>
        </ul>
      </li>
      <li class="next">
        A REST API means having <em>no</em>—additional—API.
        <ul>
          <li class="opinion">
            <a href="https://ruben.verborgh.org/blog/2013/11/29/the-lie-of-the-api/">Your website <em>is</em> the API.</a>
            (In theory—practice differs.)
          </li>
          <li>
            All you need are additional representations.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="resources-do-dont">
    <h2>
      A resource should relate<br>
      a URL to a concept.
    </h2>
    <div class="dont">
      <h3>Don’t.</h3>
      <div class="example">
        <p><em>https://&#8203;example.org/&#8203;songs/&#8203;showDetails.php</em></p>
      </div>
    </div>
    <div class="next do">
      <h3>Do.</h3>
      <div class="example">
        <p><em>https://&#8203;example.org/&#8203;songs/&#8203;3563642</em></p>
      </div>
    </div>
    <ul>
      <li>What is this?</li>
      <li>Can I bookmark this?</li>
      <li>Can I share this?</li>
    </ul>
    <footer>
      <p>
        You cannot tell by a URL whether the underlying Web API follows the REST principles.
        The way in which those URLs are <em>used</em> matters.
      </p>
    </footer>
  </div>

  <div class="slide" id="representations-do-dont">
    <h2>
      A resource can have many representations<br>
      exposed through a single URL.
    </h2>
    <div class="dont">
      <h3>Don’t.</h3>
      <div class="example">
        <p><em>https://&#8203;example.org/&#8203;songs/&#8203;3563642</em>
           results in HTML.</p>
        <p><em>https://&#8203;api.example.org/&#8203;getObjectJson.php?id=183113 </em>
           results in JSON.</p>
      </div>
    </div>
    <div class="next do">
      <h3>Do.</h3>
      <div class="example">
        <p><em>https://&#8203;example.org/&#8203;songs/&#8203;3563642</em>
           results in HTML.</p>
         <p>And results in JSON.</p>
         <p>And results in XML.</p>
      </div>
    </div>
    <ul>
      <li>Can I bookmark this?</li>
      <li>Can I share this?</li>
    </ul>
  </div>

  <div class="slide" id="self-descriptive-do-dont">
    <h2>
      Each message should<br>
      be self-descriptive.
    </h2>
    <div class="dont">
      <h3>Don’t.</h3>
      <div class="example">
        <pre><code>HTTP/1.1 5027 Incomplete
Custom-Server-Id: song.1.2
Content-Type:
  application/json</code></pre>
      </div>
    </div>
    <div class="next do">
      <h3>Do.</h3>
      <div class="example">
        <pre><code>HTTP/1.1 200 OK
Server: Song-Server 1.2
Content-Type:
  application/vnd.acme.songs
Cache-Control: max-age=3600</code></pre>
      </div>
    </div>
    <ul>
      <li>What is this?</li>
      <li>Can I cache this?</li>
    </ul>
  </div>

  <div class="slide" id="hypermedia-do-dont">
    <h2>
      The interaction should be<br>
      driven by hypermedia.
    </h2>
    <div class="dont">
      <h3>Don’t.</h3>
      <pre class="example"><code>{
  "title": "Baba O’Riley",
  "artist": {
    "id": 5521

  }
}</code></pre>
</div>
    <div class="next do">
      <h3>Do.</h3>
      <pre class="example"><code>{
  "title": "Baba O’Riley",
  "artist": {
    "id": "https://example.org/
           artists/5521"
  }
}</code></pre>
    </div>
    <ul>
      <li>Can I act upon this?</li>
    </ul>
  </div>

  <div class="slide" id="follow-your-nose">
    <h2>
      Servers offering a hypermedia API<br>
      enable the <em>follow your nose</em> principle.
    </h2>
    <ul>
      <li class="next">
        The term “hypermedia API” is sometimes used<br>
        to indicate APIs that follow all REST principles.
        <ul>
          <li>The “REST” label is often used incorrectly.</li>
          <li>Hypermedia is the distinguishing characteristic.</li>
        </ul>
      </li>
      <li class="next">
        A client should be able to follow its nose<br>
        around the API from any starting point.
        <ul>
          <li>
            This requires a pre-coded understanding of<br>
            the hypermedia content type and its link/form types.
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="web-without-hypermedia">
    <h2>
      To understand hypermedia’s importance,<br>
      imagine using any website without it.
    </h2>
    <div class="next browser">
      <p class="address-bar">https://google.com/</p>
      <div class="body">
        <img src="images/google.svg" alt="Google logo" />
      </div>
    </div>
  </div>

  <div class="slide" id="web-with-documentation">
    <h2>
      You’d need to read the documentation,<br>
      and hard-code it in your implementation.
    </h2>
    <div class="browser">
      <p class="address-bar">https://google.com/documentation.html</p>
      <div class="body">
        <p>
          To use this site,<br>
          enter your search term as follows:
          <em>https://www.google.com/search?q=search+term</em>
        </p>
        <p>
        In the above, <em>search+term</em> is<br>
        the <a href="../architecture/#iri">URL-encoded version</a> of your search term.
        </p>
      </div>
    </div>
    <footer>
      <p>
        This is essentially what you ask from a machine
        when you do not provide hypermedia controls
        in machine-targeted representations.
      </p>
    </footer>
  </div>

  <div class="toc slide" id="longterm">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li><a href="#rest">The REST architectural style</a></li>
      <li class="current">
        <a href="#sustainability">Sustainability of information</a>
        <ul>
          <li><a href="#sustainability">Web APIs with and without REST</a></li>
          <li class="current"><a href="#longterm">Designing Web APIs for the long term</a></li>
        </ul>
      </li>
      <li><a href="#technologies">Web API technologies</a></li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="slide" id="web-api-growth">
    <h2>
      There exists a large number of Web APIs,<br>
      growing at an increasing rate.
    </h2>
    <p class="label">number of Web APIs<br>indexed in <a href="https://www.programmableweb.com/">ProgrammableWeb</a></p>
    <iframe class="image" src="../birds-eye-view/images/web-api-growth.svg"></iframe>
  </div>

  <div class="slide" id="why-rest">
    <h2>
      Most Web APIs do not follow REST.<br>
      They do not focus on the long term.
    </h2>
    <ul>
      <li class="next">
        REST architectures aim for sustainability,<br>
        offering constants in a changing world.
        <ul>
          <li>Resources maintain their URL as technologies change.</li>
        </ul>
      </li>
      <li class="next">
        “Why design for the long term<br>
        when my API might not be around for long?”
      </li>
      <li class="next">
        Even in scenarios where the long term matters,<br>
        REST is not always applied.
        <ul>
          <li>Both publishers and consumers need to invest more.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="europeana">
    <h2>
      Exposing cultural heritage metadata<br>
      requires a long-term architectural vision.
    </h2>
    <ul>
      <li class="next">
        <a href="https://europeana.eu/">Europeana</a> is a Web portal for<br>
        cultural heritage metadata of Europe.
      </li>
      <li class="next">
        It aggregates metadata from 2,000+ institutions.
        <ul class="inline">
          <li>British Library</li>
          <li>Louvre</li>
          <li>Ghent University Library</li>
          <li>…</li>
        </ul>
      </li>
      <li class="next">
        Europeana publishes its metadata on a website<br>
        with content negotiation and as a separate Web API.
      </li>
    </ul>
  </div>

  <div class="slide" id="europeana-website">
    <h2>
      Using the <a href="https://europeana.eu/">Europeana website</a><br>
      as a human is straightforward.
    </h2>
    <ul>
      <li>You can browse items.</li>
      <li>You can search for items by keyword.</li>
      <li>
        You can link to items.
        <ul>
          <li><a href="https://www.europeana.eu/portal/en/record/9200229/BibliographicResource_3000135601313">https://www.europeana.eu/portal/en/record/&#8203;9200229/BibliographicResource_3000135601313</a></li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="europeana-website-machine">
    <h2>
      Using the <a href="https://europeana.eu/">Europeana website</a><br>
      as a machine is possible in two ways.
    </h2>
    <ul>
      <li class="next">
        They can use the regular website<br> with content negotiation.
      </li>
      <li class="next">
        They can use the dedicated machine API.
        <ul>
          <li>It is an HTTP API, but not a REST API.</li>
        </ul>
      </li>
    </ul>
    <p class="next">Which one would be easier?</p>
  </div>

  <div class="slide" id="europeana-rest-steps">
    <h2>
      Retrieving an item through the website<br>
      as a machine takes one step.
    </h2>
    <ol>
      <li>
        Use the same URL of the item, but ask for JSON.
      </li>
    </ol>
    <pre class="scroll"><code>curl -H "Accept: application/json" \
https://www.europeana.eu/portal/en/record/9200229/BibliographicResource_3000135601313</code></pre>
  </div>

  <div class="slide" id="europeana-api">
    <h2>
      Using the dedicated Europeana API<br>
      is quite complicated.
    </h2>
    <ul>
      <li class="next">
        You have to read the <a href="https://labs.europeana.eu/api/introduction">documentation</a>.
        <ul>
          <li>
            They mistakenly call the HTTP API a “REST API”.
          </li>
        </ul>
      </li>
      <li class="next">
        You’ll need to get an <a href="#api-keys">API key</a>.
      </li>
      <li class="next">
        You must follow a <a href="https://gist.github.com/RubenVerborgh/7684361/#gistcomment-959892">specific order of requests</a>.
      </li>
    </ul>
    <p class="next">
      All of that wasn’t necessary for the website,<br>
      even though it contains the <em>exact</em> same information.
    </p>
  </div>

  <div class="slide" id="europeana-steps">
    <h2>
      Retrieving an item using the dedicated API<br>
      involves at least 5 steps.
    </h2>
    <ol>
      <li class="next">
        Register for an API key.
      </li>
      <li class="next">
        Find the right URL template for the API call.
      </li>
      <li class="next">
        Find out the object ID of your object.
        <ul>
          <li>non-trivial, because the API assumes you always search first</li>
        </ul>
      </li>
      <li class="next">
        Fill out the template to construct the URL.
      </li>
      <li class="next">
        Retrieve a representation using this URL.
      </li>
    </ol>
  </div>

  <div class="slide" id="europeana-result">
    <h2>
      The URL you obtain from those steps<br>
      is personalized and thus volatile.
    </h2>
    <p>
      <em>https://europeana.eu/api/v2/record/9200229/&#8203;BibliographicResource_3000135601313.json?wskey=xxxxxxxxx</em>
    </p>
    <ul>
      <li>What is this?</li>
      <li>Can I bookmark this?</li>
      <li>Can I share this?</li>
    </ul>
  </div>

  <div class="slide" id="europeana-json">
    <h2>
      The JSON cannot be shared nor cached,<br>
      and you need the documentation.
    </h2>
    <pre class="scroll"><code>{
  "apikey": "xxxxxxxxx",
  "action": "--deprecated--",
  "success": true,
  "statsDuration": 110,
  "requestNumber": 999,
  "object": {
    "type": "IMAGE",
    "edmDatasetName": [ "9200229_Ag_EU_TEL_a1112_LibGent" ],
    "title": [ "Belfort, Botermarkt, Gent klokkentoren (1853)" ],
    "about": "/9200229/BibliographicResource_3000135601313",
    "europeanaAggregation": {
      "about": "/aggregation/europeana/9200229/BibliographicResource_3000135601313",
      "aggregatedCHO": "/item/9200229/BibliographicResource_3000135601313",
      "edmLandingPage": "https://europeana.eu/portal/record/9200229/BibliographicResource_3000135601313.html",
      "edmCountry": { "def": [ "belgium" ] },
      "edmLanguage": { "def": [ "mul" ] },
      "edmRights": {
        "def": [ "https://creativecommons.org/licenses/by-sa/4.0/" ]
      },
      "edmPreview": "https://europeanastatic.eu/api/image?uri=http%3A%2F%2Fadore.ugent.be%2FOpenURL%2Fresolve%3Fsvc_id%3Dmedium%26url_ver%3DZ39.88-2004%26rft_id%3Darchive.ugent.be%3A3107D15A-BB55-11E3-8B3D-86C4D43445F2%3A1&amp;size=LARGE&amp;type=IMAGE"
    },
    "proxies": [
      {
        "about": "/proxy/provider/9200229/BibliographicResource_3000135601313",
        "dcDescription": {
          "def": [
            "Stempel op keerzijde afbeelding: Copyright A.C.L.",
            "Handgeschreven notitie op keerzijde afbeelding: 102308 B"
          ]
        },
        "dcFormat": { "en": [ "Printed" ] },
        "dcIdentifier": { "def": [ "002075264" ] },
        "dcRights": {
          "def": [
            "Reproductierecht Universiteitsbibliotheek Gent",
            "CC BY-SA (4.0)"
          ]
        },
        "dcTitle": {
          "def": [ "Belfort, Botermarkt, Gent klokkentoren (1853)" ]
        },
        "dcType": { "en": [ "Serial" ] },
        "dctermsExtent": {
          "def": [ "1 fotografische druk : : zwart/wit." ]
        },
        "dctermsIsPartOf": {
          "def": [ "http://data.theeuropeanlibrary.org/Collection/a1112" ]
        },
        "dctermsIssued": {
          "def": [
            "1875? - 1930?",
            "[eind 19e-begin 20e eeuw]."
          ]
        },
        "dctermsSpatial": {
          "def": [ "België, Vlaanderen, Oost-Vlaanderen, Gent (9000), Gent (9000)" ]
        },
        "proxyIn": [
          "/aggregation/provider/9200229/BibliographicResource_3000135601313"
        ],
        "proxyFor": "/item/9200229/BibliographicResource_3000135601313",
        "edmType": "IMAGE",
        "europeanaProxy": false
      },
      {
        "about": "/proxy/europeana/9200229/BibliographicResource_3000135601313",
        "proxyIn": [
          "/aggregation/europeana/9200229/BibliographicResource_3000135601313"
        ],
        "proxyFor": "/item/9200229/BibliographicResource_3000135601313",
        "edmType": "IMAGE",
        "europeanaProxy": true
      }
    ],
    "aggregations": [
      {
        "about": "/aggregation/provider/9200229/BibliographicResource_3000135601313",
        "edmDataProvider": {
          "def": [ "Ghent University Library" ]
        },
        "edmIsShownBy": "https://adore.ugent.be/OpenURL/app?type=carousel&amp;id=archive.ugent.be:3107D15A-BB55-11E3-8B3D-86C4D43445F2",
        "edmObject": "https://adore.ugent.be/OpenURL/resolve?svc_id=medium&amp;url_ver=Z39.88-2004&amp;rft_id=archive.ugent.be:3107D15A-BB55-11E3-8B3D-86C4D43445F2:1",
        "edmProvider": {
          "en": [ "The European Library" ]
        },
        "edmRights": {
          "def": [ "https://creativecommons.org/licenses/by-sa/4.0/" ]
        },
        "aggregatedCHO": "/item/9200229/BibliographicResource_3000135601313",
        "webResources": [
          {
            "webResourceEdmRights": {
              "def": [ "https://creativecommons.org/licenses/by-sa/4.0/" ]
            },
            "about": "https://adore.ugent.be/OpenURL/app?type=carousel&amp;id=archive.ugent.be:3107D15A-BB55-11E3-8B3D-86C4D43445F2",
            "textAttributionSnippet": "Belfort, Botermarkt, Gent klokkentoren (1853) - https://europeana.eu/portal/record/9200229/BibliographicResource_3000135601313.html. Ghent University Library. CC BY-SA - https://creativecommons.org/licenses/by-sa/4.0/",
            "htmlAttributionSnippet": "&lt;span about='https://data.europeana.eu/item/9200229/BibliographicResource_3000135601313'&gt;&lt;a href='https://europeana.eu/portal/record/9200229/BibliographicResource_3000135601313.html'&gt;&lt;span property='dc:title'&gt;Belfort, Botermarkt, Gent klokkentoren (1853)&lt;/span&gt;&lt;/a&gt;. Ghent University Library. &lt;a href='https://creativecommons.org/licenses/by-sa/4.0/' rel='xhv:license https://www.europeana.eu/schemas/edm/rights'&gt;CC BY-SA&lt;/a&gt;&lt;span rel='cc:useGuidelines' resource='https://www.europeana.eu/rights/pd-usage-guide/'&gt;.&lt;/span&gt;&lt;/span&gt;"
          },
          {
            "webResourceEdmRights": {
              "def": [ "https://creativecommons.org/licenses/by-sa/4.0/" ]
            },
            "about": "https://adore.ugent.be/OpenURL/resolve?svc_id=medium&amp;url_ver=Z39.88-2004&amp;rft_id=archive.ugent.be:3107D15A-BB55-11E3-8B3D-86C4D43445F2:1",
            "textAttributionSnippet": "Belfort, Botermarkt, Gent klokkentoren (1853) - https://europeana.eu/portal/record/9200229/BibliographicResource_3000135601313.html. Ghent University Library. CC BY-SA - https://creativecommons.org/licenses/by-sa/4.0/",
            "htmlAttributionSnippet": "&lt;span about='https://data.europeana.eu/item/9200229/BibliographicResource_3000135601313'&gt;&lt;a href='https://europeana.eu/portal/record/9200229/BibliographicResource_3000135601313.html'&gt;&lt;span property='dc:title'&gt;Belfort, Botermarkt, Gent klokkentoren (1853)&lt;/span&gt;&lt;/a&gt;. Ghent University Library. &lt;a href='https://creativecommons.org/licenses/by-sa/4.0/' rel='xhv:license https://www.europeana.eu/schemas/edm/rights'&gt;CC BY-SA&lt;/a&gt;&lt;span rel='cc:useGuidelines' resource='https://www.europeana.eu/rights/pd-usage-guide/'&gt;.&lt;/span&gt;&lt;/span&gt;"
          }
        ],
        "edmPreviewNoDistribute": false
      }
    ],
    "providedCHOs": [
      {
        "about": "/item/9200229/BibliographicResource_3000135601313"
      }
    ],
    "europeanaCompleteness": 7,
    "europeanaCollectionName": [ "9200229_Ag_EU_TEL_a1112_LibGent" ],
    "language": [ "mul" ],
    "timestamp_created_epoch": 1442493422613,
    "timestamp_update_epoch": 1455546713777,
    "timestamp_created": "2015-09-17T12:37:02.613Z",
    "timestamp_update": "2016-02-15T14:31:53.777Z"
  }
}</code></pre>
  </div>

  <div class="slide" id="api-keys">
    <h2 class="opinion">
      API keys for representations<br>
      (not resources) are a fallacy.
    </h2>
    <ul>
      <li class="next">
        There are many excuses to have API keys.
        <ul>
          <li class="next"><em>We need to rate limit machine access.</em></li>
          <li class="next"><em>We need to track automated access.</em></li>
          <li class="next"><em>We need to protect our data.</em></li>
        </ul>
      </li>
      <li class="next">
        Yet API keys do not help with any of these.
        <ul>
          <li class="next">The HTML version contains the <em>same</em> data <em>without</em> key.</li>
          <li class="next">We can write a crawler and extract the data from HTML.</li>
        </ul>
      </li>
      <li class="next opinion">
        Protect your resources, not your representations.
      </li>
    </ul>
  </div>

  <div class="slide" id="europeana-consequences">
    <h2>
      Europeana’s Web API design choices<br>
      have consequences for sustainability.
    </h2>
    <ul>
      <li>You cannot bookmark a URL.</li>
      <li>You cannot share a URL.</li>
      <li>You cannot share nor cache a response.</li>
      <li>You cannot use the API without documentation.</li>
      <li>You cannot use the API in the future.</li>
    </ul>
  </div>

  <div class="slide" id="europeana-website-consequences">
    <h2>
      Europeana’s website design choices<br>
      have consequences for sustainability.
    </h2>
    <ul>
      <li>You can bookmark a URL.</li>
      <li>You can share a URL.</li>
      <li>You can share and cache a response.</li>
      <li>You can use the website without documentation.</li>
      <li>You can use the website in the future.</li>
    </ul>
  </div>

  <div class="slide" id="serendipity">
    <blockquote>
      <p>Engineer for serendipity.</p>
      <cite><a href="https://groups.yahoo.com/neo/groups/rest-discuss/conversations/topics/8343">Roy Fielding</a></cite>
    </blockquote>
  </div>

  <div class="toc slide" id="technologies">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li><a href="#rest">The REST architectural style</a></li>
      <li><a href="#sustainability">Sustainability of information</a></li>
      <li class="current">
        <a href="#technologies">Web API technologies</a>
        <ul>
          <li class="current"><a href="#technologies">Non-REST Web services</a></li>
          <li><a href="#descriptions">Web API descriptions</a></li>
        </ul>
      </li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="slide" id="web-services">
    <h2>
      Web APIs started out as <em>Web services</em>.<br>
      The difference is not well-defined.
    </h2>
    <ul>
      <li>
        Typically, the term “Web services” is used to<br>
        label older, XML-based interfaces on top of HTTP.
      </li>
      <li class="next">
        The term “Web APIs” is more fashionable<br>
        for interfaces that use HTTP and JSON.
      </li>
      <li class="next">
        Neither of these terms indicate whether<br>
        the REST architectural style was (not) followed.
        <ul>
          <li>Actual REST APIs are still rare on the Web.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="rpc-not-web">
    <h2 class="opinion">
      Web services with <em>Remote Procedure Calling</em><br>
      have surprisingly few to do with the Web.
    </h2>
    <ul>
      <li class="next">
        The client sends a structured request.
        <ul>
          <li><code>&lt;request method="getSongDetails" id="22896"/&gt;</code></li>
        </ul>
      </li>
      <li class="next">
        The server replies with a structured response.
        <ul>
          <li><code>&lt;response status="success"/&gt;</code></li>
        </ul>
      </li>
      <li class="next opinion">
        There’s nothing intrinsically “Web” about this.
        <ul>
          <li>The Web acts as a convenient tunnel.</li>
          <li><em>(Which firewall would block TCP port 80?)</em></li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="soap-message">
    <h2>
      The <a href="https://www.w3.org/TR/soap12/">Simple Object Access Protocol (SOAP)</a><br>
      transfers XML messages on top of HTTP.
    </h2>
    <p>
      A SOAP message consists of 3 main XML elements.
    </p>
    <dl>
      <dt>envelope</dt>
      <dd>root with (optional) header and body</dd>
      <dt>header</dt>
      <dd>modular extension mechanism</dd>
      <dt>body</dt>
      <dd>details of a method invocation</dd>
    </dl>
    <p>
      The client sends such an XML document with HTTP <code>POST</code><br>
      to a single specific URL that identifies the service.
    </p>
  </div>

  <div class="slide" id="soap-request">
  <h2>
    This SOAP request calls a method<br>
    with one input parameter.
  </h2>
<pre class="scroll"><code>&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;
  &lt;env:Header&gt;
  &lt;/env:Header&gt;
  &lt;env:Body&gt;
    &lt;s:getSongDetails xmlns:m="http://example.org/song-service"&gt;
      &lt;s:id&gt;22896&lt;/s:id&gt;
    &lt;/s:getSongDetails&gt;
  &lt;/env:Body&gt;
&lt;/env:Envelope&gt;</code></pre>
  </div>

  <div class="slide" id="soap-response">
  <h2>
    This SOAP response contains<br>
    one output parameter.
  </h2>
<pre class="scroll"><code>&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;
  &lt;env:Header&gt;
  &lt;/env:Header&gt;
  &lt;env:Body&gt;
    &lt;s:songDetails xmlns:m="http://example.org/song-service"&gt;
      &lt;s:title&gt;Baba O’Riley&lt;/s:title&gt;
      &lt;s:artistId&gt;5521&lt;/s:artistId&gt;
    &lt;/s:songDetails&gt;
  &lt;/env:Body&gt;
&lt;/env:Envelope&gt;</code></pre>
  </div>

  <div class="slide" id="soap-generation">
    <h2>
      SOAP provides language-independent<br>
      programming over a network.
    </h2>
    <ul>
      <li>
        SOAP enables fast cross-language development.
        <ul>
          <li>notion of networking (and HTTP) is hidden</li>
          <li>much tooling available</li>
        </ul>
      </li>
      <li class="next">
        SOAP does not inherit the Web’s benefits.
        <dl>
          <dt>no caching</dt>
          <dd>all requests use <code>POST</code></dd>
          <dt>no visibility</dt>
          <dd>intermediaries can’t understand requests</dd>
          <dt>no evolvability</dt>
          <dd>the contract is hard-coded</dd>
        </dl>
      </li>
      <li class="next">
        SOAP even works without the Web <a href="https://www.w3.org/TR/soap12-email">through e-mail</a>.
      </li>
    </ul>
  </div>

  <div class="toc slide" id="descriptions">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li><a href="#rest">The REST architectural style</a></li>
      <li><a href="#sustainability">Sustainability of information</a></li>
      <li class="current">
        <a href="#technologies">Web API technologies</a>
        <ul>
          <li><a href="#technologies">Non-REST Web services</a></li>
          <li class="current"><a href="#descriptions">Web API descriptions</a></li>
        </ul>
      </li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="slide" id="why-descriptions">
    <h2>
      Web API descriptions capture
      machine-interpretable details about an API.
    </h2>
    <p>
      There exist 3 broad uses for descriptions.
    </p>
    <dl>
      <dt>in-band</dt>
      <dd>resource and hypermedia control details</dd>
      <dt>interface</dt>
      <dd>structural properties</dd>
      <dt>functional</dt>
      <dd>effect and/or purpose characterization</dd>
    </dl>
    <p>
      Description formats support one or more of them.
    </p>
  </div>

  <div class="slide" id="wsdl">
    <h2>
      The <a href="https://www.w3.org/TR/wsdl">Web Services Description Language</a><br>
      (WSDL) describes SOAP service structure.
    </h2>
    <ul>
      <li class="next">
        A WSDL description is an XML document<br>
        that lists a service’s methods and parameters.
        <ul>
          <li>just structure, no semantics</li>
        </ul>
      </li>
      <li class="next">
        A WSDL description and SOAP wrapper can be<br>
        generated automatically from program code.
      </li>
      <li class="next">
        Code to interact with the described SOAP service<br>
        can be generated from the WSDL.
        <ul>
          <li>hard-coded—change requires recompilation/recoding</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="owl-s">
    <h2>
      <a href="https://www.w3.org/Submission/OWL-S/">OWL-S (Semantic Markup for Web Services)</a><br>
      enriches WSDL with functional aspects.
    </h2>
    <ul>
      <li class="next">
        An OWL-S description captures the semantics<br>
        of a single SOAP operation using RDF.
      </li>
      <li class="next">
        An OWL-S description consist of three parts.
        <dl>
          <dt>profile</dt>
          <dd>high-level functionality for discovery</dd>
          <dt>grounding</dt>
          <dd>connection to SOAP parameters</dd>
          <dt>model</dt>
          <dd>in-depth functional relations and constraints</dd>
        </dl>
      </li>
      <li class="next">
        OWL-S is very powerful for RPC, but remains unused.
      </li>
    </ul>
  </div>

  <div class="slide" id="wadl">
    <h2>
      The <a href="https://wadl.java.net/">Web Application Description Language</a><br>
      (WADL) is the WSDL of non-SOAP Web APIs.
    </h2>
    <ul>
      <li>
        WADL descriptions detail structural properties.
        <ul>
          <li>support for XML and JSON</li>
        </ul>
      </li>
      <li class="next">
        A WADL description is an XML document<br>
        that details HTTP methods and parameters,<br>
        as well as representation structure.
      </li>
      <li class="next">
        WADL enables automated code generation.
        <ul>
          <li>also <a href="#wsdl">hard-coded</a></li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="developer-descriptions">
    <h2>
      Most recent Web API description formats<br>
      focus purely on developer support.
    </h2>
    <ul>
      <li class="next">
        An <a href="https://swagger.io/">OpenAPI (formerly Swagger)</a> specification<br>
        documents a Web API’s methods in JSON.
        <ul>
          <li>documentation for developers <em>(<a href="https://petstore.swagger.io/">example</a>)</em></li>
          <li>automatic client code generation</li>
        </ul>
      </li>
      <li class="next">
        <a href="https://apiblueprint.org/">API Blueprint</a> focuses on data modeling first.
      </li>
      <li class="next opinion">
        Most formats are not fundamentally different.
        <ul>
          <li>They are tools. Pick the one you like most.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="description-utility">
    <h2 class="opinion">
      Structural descriptions boost development<br>
      but don’t fundamentally change Web APIs.
    </h2>
    <ul>
      <li class="next opinion">
        They encourage uncontrolled growth<br>
        but hamper a sustainable Web API ecosystem.
        <ul>
          <li>Everybody builds blindly, nobody reuses.</li>
        </ul>
      </li>
      <li class="next opinion">
        They promote tight coupling.
        <ul>
          <li>Hard-code against a description.</li>
          <li>If code can be generated anyway… is it necessary?</li>
        </ul>
      </li>
      <li class="next opinion">
        In essence, they have little to do with the Web.
        <ul>
          <li>Do <em>you</em> need to read a website’s contract first?</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="hypermedia-formats">
    <h2>
      Hypermedia-based formats place<br>
      description <em>inside</em> of the message.
    </h2>
    <ul>
      <li class="next">
        JSON itself does not support links or forms.
        <ul>
          <li>
            Representations of type <code>application/json</code><br>
            cannot fulfill the <a href="#hateoas">hypermedia constraint</a>.
          </li>
        </ul>
      </li>
      <li class="next">
        The <a href="http://stateless.co/hal_specification.html">Hypertext Application Language (HAL)</a><br>
        defines links on top of JSON.
        <ul>
          <li>Representations have type <code>application/hal+json</code>.</li>
          <li>They contain a <code>_links</code> key with named links.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="slide" id="hydra">
    <h2>
      <a href="https://www.hydra-cg.com/spec/latest/core/">Hydra</a>
      is an RDF vocabulary to describe<br>
      hypermedia controls and API structure.
    </h2>
    <ul>
      <li class="next">
        Hydra contains hypermedia building blocks<br>
        to enhance representations with links and forms.
        <ul>
          <li>Hydra basically offers the <code>&lt;form&gt;</code> of RDF.</li>
          <li>RDF has several serializations, including JSON and XML.</li>
        </ul>
      </li>
      <li class="next">
        In addition to the structure of a REST Web API,<br>
        Hydra can also describe the <em>semantics</em> of resources.
        <ul>
          <li>Clients can figure out the effect of a hypermedia control.</li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="toc slide" id="recap">
    <h2>
      <a class="series" href="../">Web Fundamentals</a><br>
      <a class="module" href="#title">Web APIs</a>
    </h2>
    <ul>
      <li><a href="#rest">The REST architectural style</a></li>
      <li><a href="#sustainability">Sustainability of information</a></li>
      <li><a href="#technologies">Web API technologies</a></li>
    </ul>
    <p class="tweets"><a href="https://twitter.com/search?f=tweets&amp;q=%23WebDev2020">#WebDev2020</a></p>
  </div>

  <div class="slide" id="cartoon-customer">
    <figure class="cover height">
      <img src="images/cartoon-customer.jpg" alt="[a tree with a ladder]">
      <figcaption>
        ©2006 <a href="http://projectcartoon.com/cartoon/3">Project Cartoon</a>
      </figcaption>
    </figure>
    <p class="label" style="top:20px;left:550px">
      What the customer<br> thought they needed
    </p>
  </div>

  <div class="slide" id="cartoon-project-leader">
    <figure class="cover height">
      <img src="images/cartoon-project-leader.jpg" alt="[a tree with an unusable swing]">
      <figcaption>
        ©2006 <a href="http://projectcartoon.com/cartoon/3">Project Cartoon</a>
      </figcaption>
    </figure>
    <p class="label" style="top:20px;left:550px">
      How the project leader<br> understood it
    </p>
  </div>

  <div class="slide" id="cartoon-programmer">
    <figure class="cover height">
      <img src="images/cartoon-programmer.jpg" alt="[a tree with a broken swing]">
      <figcaption>
        ©2006 <a href="http://projectcartoon.com/cartoon/3">Project Cartoon</a>
      </figcaption>
    </figure>
    <p class="label" style="top:20px;left:550px">
      How the programmer<br> wrote it
    </p>
  </div>

  <div class="slide" id="cartoon-bill">
    <figure class="cover height">
      <img src="images/cartoon-bill.jpg" alt="[a roller coaster]">
      <figcaption>
        ©2006 <a href="http://projectcartoon.com/cartoon/3">Project Cartoon</a>
      </figcaption>
    </figure>
    <p class="label" style="top:20px;left:550px">
      How the customer<br> was billed
    </p>
  </div>

  <div class="slide" id="cartoon-need">
    <figure class="cover height">
      <img src="images/cartoon-need.jpg" alt="[a tire swing on a tree]">
      <figcaption>
        ©2006 <a href="http://projectcartoon.com/cartoon/3">Project Cartoon</a>
      </figcaption>
    </figure>
    <p class="label" style="top:20px;left:550px">
      What the customer<br> really needed
    </p>
  </div>

  <div class="slide" id="need">
    <h2 class="opinion">
      What does the customer<br>
      <em>really</em> need?
    </h2>
    <p>
      If a customer wants to make their website accessible<br>
      for automated clients, what do you propose?
    </p>
    <p class="next">
      If they ask for a Web API, what do you propose?
    </p>
    <ul>
      <li class="next">An additional Web API?</li>
      <li class="next">Additional representations for their website?</li>
    </ul>
    <p class="next">
      And—most importantly—what do you bill them for? 😉
    </p>
  </div>

  <footer>
    <p class="badge"><a href="https://github.com/RubenVerborgh/WebFundamentals">View on GitHub</a></p>
    <p class="license">
      <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" src="../_shared/images/cc-by-small.svg" /></a>
      Except where otherwise noted, the content of these slides is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
    </p>
  </footer>
  <script src="../_shared/scripts/shower.min.js"></script>
  <script src="../_shared/scripts/enhancements.js"></script>
  <script>ga=function(){ga.q.push(arguments)};ga.q=[['create','UA-6142365-12','auto'],['require','autotrack'],['send','pageview']];ga.l=1*new Date</script>
  <script async src="//www.google-analytics.com/analytics.js"></script>
  <script async src="../_shared/scripts/autotrack.js"></script>
</body>
</html>
